<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>å¦™éº—æ­²æ•¸è¨ˆç®—æ©Ÿ</title>
    <style>
      /* å…¨åŸŸè¨­å®šï¼šè¨­å®šå­—é«”èˆ‡æ»¿ç‰ˆèƒŒæ™¯ */
      body,
      html {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
          'Helvetica Neue', Arial, sans-serif;
        /* èƒŒæ™¯åœ–ç‰‡è¨­å®š - è«‹å°‡é€™è£¡çš„ URL æ›æˆä½ æƒ³è¦çš„ç…§ç‰‡ */
        background: url('https://images.unsplash.com/photo-1548199973-03cce0bbc87b?q=80&w=2069&auto=format&fit=crop')
          no-repeat center center fixed;
        background-size: cover;
        display: flex;
        align-items: center; /* å‚ç›´ç½®ä¸­ */
        justify-content: flex-end; /* é å³å°é½Šï¼Œæ¨¡æ“¬æˆªåœ–ä¸­çš„ä½ç½® */
      }

      /* ç‚ºäº†è®“å¡ç‰‡ä¸è¦è²¼åœ¨æœ€å³é‚Šï¼ŒåŠ ä¸€é»å³é‚Šè· */
      body {
        padding-right: 5%;
      }

      /* è¨ˆç®—æ©Ÿå¡ç‰‡æ¨£å¼ */
      .card {
        background-color: rgba(255, 255, 255, 0.95); /* ç™½è‰²èƒŒæ™¯ï¼Œå¾®é€æ˜ */
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        width: 320px;
        max-width: 90%;
      }

      /* æ¨™é¡Œæ¨£å¼ */
      h1 {
        font-size: 22px;
        margin-top: 0;
        margin-bottom: 20px;
        color: #000;
        font-weight: 800;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      /* è¼¸å…¥æ¡†å€åŸŸ */
      .input-group {
        margin-bottom: 20px;
        padding: 15px;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        background-color: #fff;
      }

      .input-label {
        font-size: 16px;
        color: #333;
        margin-bottom: 8px;
        display: block;
      }

      input[type='date'] {
        width: 100%;
        padding: 8px;
        font-size: 16px;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box; /* ç¢ºä¿ padding ä¸æœƒæ’å¤§å¯¬åº¦ */
      }

      /* æŒ‰éˆ•æ¨£å¼ */
      button {
        background-color: transparent;
        color: #333;
        font-size: 16px;
        padding: 8px 20px;
        border: 2px solid #5c7cfa; /* è—è‰²é‚Šæ¡† */
        border-radius: 4px;
        cursor: pointer;
        transition: all 0.2s;
        font-weight: 600;
      }

      button:hover {
        background-color: #5c7cfa;
        color: white;
      }

      /* çµæœé¡¯ç¤ºå€åŸŸ (é è¨­éš±è—ï¼Œè¨ˆç®—å¾Œé¡¯ç¤º) */
      #result-area {
        margin-top: 20px;
        background-color: #f5f5f5;
        padding: 15px;
        border-radius: 8px;
        font-size: 15px;
        line-height: 1.6;
        color: #333;
        display: none; /* ä¸€é–‹å§‹éš±è— */
      }

      .highlight {
        font-weight: 800;
        font-size: 18px;
      }

      /* æ‰‹æ©Ÿç‰ˆèª¿æ•´ï¼šç½®ä¸­å¡ç‰‡ */
      @media (max-width: 600px) {
        body {
          justify-content: center;
          padding-right: 0;
          align-items: center;
        }
        .card {
          width: 90%;
        }
      }
    </style>
  </head>
  <body>
    <div class="card">
      <h1>ğŸ¶ å¦™éº—æ­²æ•¸è¨ˆç®—æ©Ÿ</h1>

      <div class="input-group">
        <label class="input-label">ç‹—ç‹—çš„å‡ºç”Ÿæ—¥æœŸï¼š</label>
        <input
          type="date"
          id="birthdate"
          value="2023-02-28"
        />
      </div>

      <button onclick="calculateAge()">é–‹å§‹è¨ˆç®—</button>

      <div id="result-area"></div>
    </div>

    <script>
      function calculateAge() {
        // 1. ç²å–è¼¸å…¥çš„æ—¥æœŸ
        const inputDate = document.getElementById('birthdate').value;
        const resultArea = document.getElementById('result-area');

        if (!inputDate) {
          alert('è«‹é¸æ“‡æ—¥æœŸï¼');
          return;
        }

        // 2. è¨ˆç®—å¯¦éš›å¹´é½¡ (æ­²æ•¸)
        const birthDateObj = new Date(inputDate);
        const today = new Date();
        const diffTime = today - birthDateObj;

        if (diffTime < 0) {
          resultArea.style.display = 'block';
          resultArea.innerHTML = 'é€™éš»ç‹—ç‹—é‚„æ²’å‡ºç”Ÿå–”ï¼è«‹è¼¸å…¥æ­£ç¢ºçš„æ—¥æœŸã€‚';
          return;
        }

        // ç®—å‡ºç²¾ç¢ºçš„æ­²æ•¸ (ä¾‹å¦‚ 2.54 æ­²)
        const exactDogAge = diffTime / (1000 * 60 * 60 * 24 * 365.25);

        // é¡¯ç¤ºç”¨çš„ç‹—ç‹—æ­²æ•¸ (å–å°æ•¸é»å¾Œä¸€ä½)
        const displayDogAge = exactDogAge.toFixed(1);

        // 3. è¨ˆç®—äººé¡å¹´é½¡ (ä½¿ç”¨ UC San Diego ç§‘å­¸å…¬å¼ï¼š16 * ln(age) + 31)
        let humanAge;

        if (exactDogAge < 1) {
          // é‡å°å°æ–¼ 1 æ­²çš„å¹¼çŠ¬ï¼Œç§‘å­¸å…¬å¼æœƒå‡ºç¾è² æ•¸æˆ–èª¤å·®
          // é€™è£¡æˆ‘å€‘æ¡ç”¨ AVMA æ¨™æº–ï¼šç¬¬ä¸€å¹´ç›¸ç•¶æ–¼äººé¡ 15 æ­²ï¼ŒæŒ‰æ¯”ä¾‹è¨ˆç®—
          humanAge = exactDogAge * 15;
        } else {
          // 1 æ­²ä»¥ä¸Šä½¿ç”¨ç§‘å­¸å…¬å¼
          // Math.log() åœ¨ JS ä¸­å°±æ˜¯è‡ªç„¶å°æ•¸ ln
          humanAge = 16 * Math.log(exactDogAge) + 31;
        }

        const displayHumanAge = humanAge.toFixed(1);

        // 4. é¡¯ç¤ºçµæœ (å¢åŠ äº†ä¸€è¡Œèªªæ˜å…¬å¼ä¾†æº)
        resultArea.style.display = 'block';
        resultArea.innerHTML = `
            å¦™éº—ç¾åœ¨å¤§ç´„ <span class="highlight">${displayDogAge}</span> æ­²ç‹—å¹´é½¡ï¼Œ<br>
            <hr style="border: 0; border-top: 1px solid #ddd; margin: 10px 0;">
            ä¾æ“š UCSD ç§‘å­¸å…¬å¼æ›ç®—ï¼Œ<br>
            ç”Ÿç†ç‹€æ…‹ç›¸ç•¶æ–¼äººé¡ <span class="highlight">${displayHumanAge}</span> æ­²ã€‚<br>
            <span style="font-size: 12px; color: #666;">(æ¡ç”¨ 2020 å¹´ Cell Systems æœŸåˆŠç™¼è¡¨ä¹‹è¡¨è§€éºå‚³æ™‚é˜ç®—æ³•)</span>
        `;
      }
    </script>
  </body>
</html>
